<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
   "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
   "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>

	<constant name="struts.devMode" value="true" />
	<constant name="struts.enable.DynamicMethodInvocation" value="false" />
    <constant name="struts.devMode" value="true" />
    
	<package name="default" namespace="/" extends="struts-default">
		
		<result-types>
			<result-type name="tiles" class="org.apache.struts2.views.tiles.TilesResult" />
		</result-types>

		<interceptors>
			<interceptor class="com.upou.teapop.interceptor.LoginInterceptor"
				name="loginInterceptor">
			</interceptor>
			<interceptor-stack name="loginStack">
				<interceptor-ref name="loginInterceptor" />
				<interceptor-ref name="defaultStack" />
			</interceptor-stack>
		</interceptors>

		<default-action-ref name="index" />

		<global-results>
			<result name="login">/jsp/admin/login.jsp</result>
		</global-results>

		<action name="index">
			<result   type="tiles">home</result>
		</action>

		<action name="home">
			<result name="success" type="tiles">home</result>
		</action>

		<action name="location">
			<result name="success" type="tiles">locationanddelivery</result>
		</action>

		<action name="menu" class="com.upou.teapop.action.DisplayMenuAction">
			<result name="success" type="tiles">menu</result>
		</action>

		<action name="specials" class="com.upou.teapop.action.DisplaySpecialsAction">
			<result name="success" type="tiles">specials</result>
		</action>

		<action name="contactus">
			<result name="success" type="tiles">contactus</result>
		</action>

		<action name="admin">
			<result>/jsp/admin/login.jsp</result>
		</action>

		<action name="loginUser" class="com.upou.teapop.action.LoginAction"
			method="login">
			<result name="success" type="redirectAction">dashboard</result>
			<result name="login">/jsp/admin/login.jsp</result>
		</action>
	
		
		<action name="addPromo" class="com.upou.teapop.action.AddPromoAction"
			method="addPromo">
			<result name="success">/jsp/admin/promoForm.jsp</result>
			<result name="FAILED">/jsp/admin/blank.jsp</result>
		</action>
		
		<action name="displayEditPromo" class="com.upou.teapop.action.DisplayEditPromoAction"
			method="editPromo">
			<result name="success">/jsp/admin/promoForm.jsp</result>
			<result name="FAILED">/jsp/admin/blank.jsp</result>
		</action>
		
		<action name="editPromo" class="com.upou.teapop.action.EditPromoAction"
			method="editPromo">
			<result name="success">/jsp/admin/promoList.jsp</result>
			<result name="FAILED">/jsp/admin/blank.jsp</result>
		</action>
		
		<action name="deletePromo" class="com.upou.teapop.action.DeletePromoAction"
			method="deletePromo">
			<result name="success">/jsp/admin/promoList.jsp</result>
			<result name="FAILED">/jsp/admin/blank.jsp</result>
		</action>

		<action name="dashboard" class="com.upou.teapop.action.LoginAction"
			method="dashboard">
			<interceptor-ref name="loginInterceptor" />
			<result name="success" type="tiles">dashboard</result>
		</action>

		<action name="logoutUser" class="com.upou.teapop.action.LoginAction"
			method="logout">
			<result name="success">/jsp/admin/login.jsp</result>
		</action>
		
		<action name="displayMenuItems">
			<interceptor-ref name="loginInterceptor" />
			<result>/jsp/admin/menuList.jsp</result>
		</action>
		
		<action name="displayAddMenu">
		    <interceptor-ref name="loginInterceptor" />
			<result>/jsp/admin/menuForm.jsp</result>
		</action>
		
		<action name="displayCategories" class="com.upou.teapop.action.DisplayCategoryAction">
			<interceptor-ref name="loginInterceptor" />
			<result name="success">/jsp/admin/categoryList.jsp</result>
		</action>
		
		<action name="displayPrintCategory" class="com.upou.teapop.action.DisplayCategoryAction">
		    <interceptor-ref name="loginInterceptor" />
			<result name="success">/jsp/admin/categoryPrint.jsp</result>
		</action>
		
		<action name="displayAddCategory">
		    <interceptor-ref name="loginInterceptor" />
			<result>/jsp/admin/categoryForm.jsp</result>
		</action>
		
		<action name="addCategory" class="com.upou.teapop.action.AddCategoryAction" >
		   	<result name="success">/jsp/admin/categoryList.jsp</result>
		    <result name="error">/jsp/admin/categoryForm.jsp</result>
        	<result name="done">/jsp/admin/blank.jsp</result>
		</action>
		
		<action name="deleteCategory" class="com.upou.teapop.action.DeleteCategoryAction" >
		   	<result name="success">/jsp/admin/categoryList.jsp</result>
		    <result name="error">/jsp/admin/categoryList.jsp</result>
        	<result name="done">/jsp/admin/blank.jsp</result>
		</action>
		
		<action name="updateCategory" class="com.upou.teapop.action.UpdateCategoryAction" >
		   	<result name="success">/jsp/admin/categoryForm.jsp</result>
		    <result name="error">/jsp/admin/categoryList.jsp</result>
        	<result name="done">/jsp/admin/blank.jsp</result>
		</action>
		
		
		<action name="displayPromos"  class="com.upou.teapop.action.DisplaySpecialsAction">
			<interceptor-ref name="loginInterceptor" />
			<result>/jsp/admin/promoList.jsp</result>
		</action>
		
		<action name="displayPrintPromos" class="com.upou.teapop.action.DisplaySpecialsAction">
		    <interceptor-ref name="loginInterceptor" />
			<result name="success">/jsp/admin/promoPrint.jsp</result>
		</action>
		
		<action name="displayMenuItems"  class="com.upou.teapop.action.DisplayMenuAction">
			<interceptor-ref name="loginInterceptor" />
			<result>/jsp/admin/menuList.jsp</result>
		</action>
		
		
		<action name="displayAddPromo">
			<interceptor-ref name="loginInterceptor" />
			<result>/jsp/admin/promoForm.jsp</result>
		</action>
		
		<action name="displayDashboard">
			<interceptor-ref name="loginInterceptor" />
			<result>/jsp/admin/dashboard.jsp</result>
		</action>
		
		<action name="displayBlank">
			<interceptor-ref name="loginInterceptor" />
			<result>/jsp/admin/blank.jsp</result>
		</action>

	</package>


</struts>
