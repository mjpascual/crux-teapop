<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
   "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
   "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>

	<constant name="struts.devMode" value="true" />

	<package name="default" namespace="/" extends="struts-default">

		<result-types>
			<result-type name="tiles"
				class="org.apache.struts2.views.tiles.TilesResult" />
			<result-type name="json" class="org.apache.struts2.json.JSONResult" />
		</result-types>

		<interceptors>
			<interceptor class="com.upou.teapop.interceptor.LoginInterceptor"
				name="loginInterceptor">
			</interceptor>
			<interceptor-stack name="loginStack">
				<interceptor-ref name="loginInterceptor" />
				<interceptor-ref name="defaultStack" />
			</interceptor-stack>
		</interceptors>

		<default-action-ref name="index" />

		<global-results>
			<result name="login">/jsp/admin/login.jsp</result>
		</global-results>

		<action name="index">
			<result>index.jsp</result>
		</action>

		<action name="home">
			<result>/teapop/content/home.jsp</result>
		</action>

		<action name="location">
			<result>/teapop/content/locationanddelivery.html</result>
		</action>

		<action name="menu" class="com.upou.teapop.action.DisplayMenuAction">
			<result>/teapop/content/products.jsp</result>
		</action>

		<action name="specials" class="com.upou.teapop.action.DisplaySpecialsAction">
			<result>/teapop/content/specials.jsp</result>
		</action>

		<action name="contactus">
			<result>/teapop/content/contactus.jsp</result>
		</action>

		<action name="admin">
			<result>/jsp/admin/login.jsp</result>
		</action>

		<action name="loginUser" class="com.upou.teapop.action.LoginAction"
			method="login">
			<result name="success" type="redirectAction">dashboard</result>
			<result name="login">/jsp/admin/login.jsp</result>
		</action>

		<action name="dashboard" class="com.upou.teapop.action.LoginAction"
			method="dashboard">
			<interceptor-ref name="loginInterceptor" />
			<result name="success" type="tiles">dashboard</result>
		</action>

		<action name="logoutUser" class="com.upou.teapop.action.LoginAction"
			method="logout">
			<result name="success">/jsp/admin/login.jsp</result>
		</action>
		
		<action name="displayMenuItems" class="com.upou.teapop.action.DisplayMenuAction">
			<interceptor-ref name="loginInterceptor" />
			<result name="success">/jsp/admin/menuList.jsp</result>
		</action>
		
		<action name="displayAddMenu">
		    <interceptor-ref name="loginInterceptor" />
			<result>/jsp/admin/menuForm.jsp</result>
		</action>
		
		<action name="displayCategories">
			<interceptor-ref name="loginInterceptor" />
			<result>/jsp/admin/categoryList.jsp</result>
		</action>
		
		<action name="displayAddCategory">
		    <interceptor-ref name="loginInterceptor" />
			<result>/jsp/admin/categoryForm.jsp</result>
		</action>

		<action name="displayBlank">
			<interceptor-ref name="loginInterceptor" />
			<result>/jsp/admin/blank.jsp</result>
		</action>

	</package>


</struts>
